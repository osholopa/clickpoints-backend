{"version":3,"sources":["img/button.png","audio/win.mp3","services/socket.js","components/Button.js","components/Message.js","components/App.js","index.js"],"names":["module","exports","socket","socketIOClient","props","playAudio","setShowWinMsg","setWinPoints","points","setPoints","setNextWin","emit","on","data","nextWin","console","log","setTimeout","Button","document","getElementsByClassName","play","src","button","className","alt","onClick","window","confirm","localStorage","setItem","win","BouncyMsg","styled","div","Message","style","content","App","useState","showWinMsg","winPoints","useEffect","isNaN","parseInt","getItem","opacity","ReactDOM","render","getElementById"],"mappings":"8FAAAA,EAAOC,QAAU,IAA0B,oC,mBCA3CD,EAAOC,QAAU,IAA0B,iC,qNCIrCC,E,MAASC,GAFH,KAkCG,EArBD,SAACC,EAAOC,GAAe,IAC3BC,EAA+DF,EAA/DE,cAAeC,EAAgDH,EAAhDG,aAAcC,EAAkCJ,EAAlCI,OAAQC,EAA0BL,EAA1BK,UAAWC,EAAeN,EAAfM,WAExDR,EAAOS,KAAK,SAEZT,EAAOU,GAAG,WAAW,SAAAC,GACnBH,EAAWG,EAAKC,YAGlBZ,EAAOU,GAAG,OAAO,SAAAC,GACfR,IACAU,QAAQC,IAAR,kBAAuBH,EAAKL,OAA5B,aACAC,EAAUD,EAAS,EAAIK,EAAKL,QAC5BD,EAAaM,EAAKL,QAClBF,GAAc,GACdW,YAAW,WACTX,GAAc,KACb,SAIQ,EA9BI,SAAAI,GAEjBR,EAAOS,KAAK,cAEZT,EAAOU,GAAG,WAAW,SAAAC,GACnBH,EAAWG,EAAKC,a,iBC4BLI,EAlCA,SAAAd,GACb,IAAMC,EAAY,WACAc,SAASC,uBAAuB,iBAAiB,GACzDC,QAgBV,OACE,oCACE,yBACEC,IAAKC,IACLC,UAAU,aACVC,IAAI,SACJC,QAZoB,WACxBxB,EAAaE,EAAOC,GAEpBD,EAAMI,OAAS,EAAIJ,EAAMK,UAAUL,EAAMI,OAAS,GAT9CmB,OAAOC,QAAQ,+CACjBxB,EAAMK,UAAU,IAChBoB,aAAaC,QAAQ,SAAU1B,EAAMI,YAkBrC,2BAAOgB,UAAW,iBAChB,4BAAQF,IAAKS,S,mMC9BrB,IAAIC,E,MAAYC,EAAOC,IAAV,KAkBEC,EAVC,SAAA/B,GACd,OACE,oCACE,kBAAC4B,EAAD,CAAWI,MAAOhC,EAAMgC,OACtB,6BAAMhC,EAAMiC,YCoDLC,EA7DH,WAAO,IAAD,EACYC,mBAAS,IADrB,mBACT/B,EADS,KACDC,EADC,OAEoB8B,oBAAS,GAF7B,mBAETC,EAFS,KAEGlC,EAFH,OAGkBiC,mBAAS,GAH3B,mBAGTE,EAHS,KAGElC,EAHF,OAIcgC,mBAAS,GAJvB,mBAITzB,EAJS,KAIAJ,EAJA,KAyBhB,OAXAgC,qBAAU,WACHC,MAAMC,SAASf,aAAagB,QAAQ,aACvCpC,EAAUmC,SAASf,aAAagB,QAAQ,YAE1C3C,EAAkBQ,KACjB,IAEHgC,qBAAU,WACRb,aAAaC,QAAQ,SAAUtB,KAC9B,CAACA,IAGF,yBAAKgB,UAAU,OACb,4BAAQA,UAAU,cAChB,6CAEF,6BACGgB,EACC,kBAAC,EAAD,CACEJ,MAvBK,CACbU,QAAS,KAuBDT,QAAO,kBAAaI,EAAb,cAGT,kBAAC,EAAD,CACEL,MAhCU,CAClBU,QAAS,GAgCDT,QAAO,kBAAaI,EAAb,eAIb,4DACA,iDACA,2CAAiBjC,GACjB,wCAAcM,EAAd,WACA,kBAAC,EAAD,CACEN,OAAQA,EACRC,UAAWA,EACXF,aAAcA,EACdD,cAAeA,EACfI,WAAYA,IAEd,kDACA,oDACA,uDCzDNqC,IAASC,OAAO,kBAAC,EAAD,MAAS7B,SAAS8B,eAAe,W","file":"static/js/main.531a4204.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/button.59b7af70.png\";","module.exports = __webpack_public_path__ + \"static/media/win.02f1227a.mp3\";","import socketIOClient from \"socket.io-client\"\r\n\r\nconst url = \"/\"\r\n\r\nconst socket = socketIOClient(url)\r\n\r\nconst getNextWin = setNextWin => {\r\n  \r\n  socket.emit(\"getNextWin\")\r\n\r\n  socket.on(\"nextWin\", data => {\r\n    setNextWin(data.nextWin)\r\n  })\r\n}\r\n\r\nconst click = (props, playAudio) => {\r\n  const { setShowWinMsg, setWinPoints, points, setPoints, setNextWin } = props\r\n\r\n  socket.emit(\"click\")\r\n\r\n  socket.on(\"nextWin\", data => {\r\n    setNextWin(data.nextWin)\r\n  })\r\n\r\n  socket.on(\"win\", data => {\r\n    playAudio()\r\n    console.log(`You won ${data.points} points!`)\r\n    setPoints(points - 1 + data.points)\r\n    setWinPoints(data.points)\r\n    setShowWinMsg(true)\r\n    setTimeout(() => {\r\n      setShowWinMsg(false)\r\n    }, 1000)\r\n  })\r\n}\r\n\r\nexport default { click, getNextWin }\r\n","import React from \"react\"\r\nimport button from \"../img/button.png\"\r\nimport socket from \"../services/socket\"\r\nimport win from \"../audio/win.mp3\"\r\n\r\nconst Button = props => {\r\n  const playAudio = () => {\r\n    const audioEl = document.getElementsByClassName(\"audio-element\")[0]\r\n    audioEl.play()\r\n  }\r\n\r\n  const restartGame = () => {\r\n    if (window.confirm(\"Oops, you're out of points. Restart game?\")) {\r\n      props.setPoints(20)\r\n      localStorage.setItem(\"points\", props.points)\r\n    }\r\n  }\r\n\r\n  const handleButtonClick = () => {\r\n    socket.click(props, playAudio)\r\n\r\n    props.points > 0 ? props.setPoints(props.points - 1) : restartGame()\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <img\r\n        src={button}\r\n        className=\"App-button\"\r\n        alt=\"button\"\r\n        onClick={handleButtonClick}\r\n      />\r\n      <audio className={\"audio-element\"}>\r\n        <source src={win}></source>\r\n      </audio>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Button\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\n\r\nlet BouncyMsg = styled.div`\r\n  color: yellow;\r\n  border: 1px solid yellow;\r\n  padding: 15px;\r\n  border-radius: 15px;\r\n  margin: 0 auto;\r\n`\r\n\r\nconst Message = props => {\r\n  return (\r\n    <>\r\n      <BouncyMsg style={props.style}>\r\n        <div>{props.content}</div>\r\n      </BouncyMsg>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Message\r\n","import React, { useState, useEffect } from \"react\"\nimport Button from \"./Button\"\nimport \"./App.css\"\nimport Message from \"./Message\"\nimport socket from \"../services/socket\"\n\nconst App = () => {\n  const [points, setPoints] = useState(20)\n  const [showWinMsg, setShowWinMsg] = useState(false)\n  const [winPoints, setWinPoints] = useState(0)\n  const [nextWin, setNextWin] = useState(0)\n\n  const transparent = {\n    opacity: 0\n  }\n\n  const opaque = {\n    opacity: 100\n  }\n\n  useEffect(() => {\n    if (!isNaN(parseInt(localStorage.getItem(\"points\")))) {\n      setPoints(parseInt(localStorage.getItem(\"points\")))\n    }\n    socket.getNextWin(setNextWin)\n  }, [])\n\n  useEffect(() => {\n    localStorage.setItem(\"points\", points)\n  }, [points])\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Clickpoints!</h1>\n      </header>\n      <div>\n        {showWinMsg ? (\n          <Message\n            style={opaque}\n            content={`You won ${winPoints} points!`}\n          ></Message>\n        ) : (\n          <Message\n            style={transparent}\n            content={`You won ${winPoints} points!`}\n          ></Message>\n        )}\n      </div>\n      <p>Multiplayer button click game</p>\n      <p>Press the button !</p>\n      <p>Your points: {points}</p>\n      <p>Next win: {nextWin} clicks</p>\n      <Button\n        points={points}\n        setPoints={setPoints}\n        setWinPoints={setWinPoints}\n        setShowWinMsg={setShowWinMsg}\n        setNextWin={setNextWin}\n      ></Button>\n      <p>10 clicks: 5 points</p>\n      <p>100 clicks: 40 points</p>\n      <p>500 clicks: 250 points</p>\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./components/App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}